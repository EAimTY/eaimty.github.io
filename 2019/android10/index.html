<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=#000000 id=color_chrome name=theme-color><meta content=#000000 id=color_safari name=apple-mobile-web-app-status-bar-style><meta content="EAimTY's Blog" name=description><link rel="Shortcut Icon" href=https://www.eaimty.com/favicon.ico><link href=https://www.eaimty.com/favicon.ico rel=Bootmark><link title="EAimTY's Blog" href=https://www.eaimty.com/rss.xml rel=alternate type=application/rss+xml><style>#title,body{line-height:1.6em}body{background:#000;color:#00c000;font-size:1.2em}#container{margin:2.4em auto;width:72%}#header{text-align:center}#header>a{font-size:.96em;margin:auto 1em}#title{font-size:1.6em;font-weight:700;margin:1em auto}#date{font-style:italic}#list>li{margin:.8em auto;list-style:disc}img{max-width:100%}a{color:inherit;text-decoration:none}#content a,a:hover{text-decoration:underline}pre{padding:1em;overflow:auto;background:#1b1d16}:not(pre) >code{padding:.2em;background:#1b1d16;overflow:auto}blockquote{padding:0 1em;margin:0;border-left:.25em solid #212121}@media (max-width:600px){#container{width:88%}#header>a{margin:auto .3em}}</style><title>关于 Android 10 - EAimTY's Blog</title><body><div id=header><a href=https://www.eaimty.com>EAimTY's Blog</a><a href=https://www.eaimty.com/about/>About</a><a href=https://www.eaimty.com/friends/>Friends</a></div><div id=container><a href=https://www.eaimty.com/2019/android10/ id=title>关于 Android 10</a><div id=date>2019-09-11</div><div id=content><p>从 9 月 3 号 Android 10 正式发布到现在已经一个星期了。写篇文章说说我在这一个星期的使用后对新系统感觉，顺便聊聊我现在对 Android 本身的看法。<p>这篇文章不是介绍 Android 新 Feature 的文章，那类文章网上一搜一大把，况且我的水平也肯定不如专业人士，再写一遍就是费力不讨好了。<p>以下内容都是基于我个人的使用习惯与看法得出的，可能会和一些人的观点冲突。<h1 id=bu-cuo-de-gai-jin>不错的改进</h1><h2 id=scoped-storage>Scoped Storage</h2><p>Android Q Beta 3 去掉 sandbox 时人们哭声一片，本来看到了镇住流氓的希望，这一下子又回到了解放前。 但仔细想想，毕竟生态有历史遗留问题，Google 像水果一样强推某项功能很难。 取代 sandbox 的就是 Scoped Storage，虽然显得不那么积极，就像 Storage Access Framework 一样，但这也是无奈之举。 当前 Scoped Storage 秉承了 Google 一贯的“防君子不防小人”政策，但同时也承诺在明年的 Android R 中会强制对所有 app 开启，乐观一点的话，希望到明年应用在存储里到处拉屎的现象会少见一点吧。<h2 id=sui-ji-chuan-ru-de-mac-di-zhi-yu-ke-kong-zhi-de-read-privileged-phone-state-quan-xian>随机传入的 MAC 地址与可控制的 READ_PRIVILEGED_PHONE_STATE 权限</h2><p>简单来说，就是应用无法再获取用户唯一标识符了，<code>getWifiMacAddress()</code> 这个方法是设备管理员专用，<code>/proc/net</code> 也被限制访问，另外只有拥有<code>READ_PRIVILEGED_PHONE_STATE</code> 权限的 app 才能读取 IMEI。 剩下的方式中，Advertising ID 可以由用户改变，建立文件存储 ID 这种方法对我这种经常清理存储中文件的用户来说也没什么用。<h2 id=qi-ta-dui-ying-yong-de-xian-zhi>其它对应用的限制</h2><p>新系统中，剪切板被限制只能由输入法和焦点程序访问、应用开关 WiFi 也被限制。 总的来说，在隐私管控方面，Google 还是做了一些有意义的事。<h2 id=xin-gesture-navigation-xia-de-google-assistant-huan-chu-fang-shi>新 Gesture navigation 下的 Google Assistant 唤出方式</h2><p>虽然我对新Gesture navigation感觉一般，但说实话，新的Assistant唤出方式我还是很喜欢的，虽然改变这么多年长按home键的习惯不那么容易，但是这新的手势会给人一种更加灵动的感觉。<h2 id=zhuang-tai-lan-xia-la-cai-dan-zhong-ke-zhi-jie-kai-qi-an-se-mo-shi>状态栏下拉菜单中可直接开启暗色模式</h2><p>这个功能本身很不错，但问题是Google自家的app都还没完全适配，更别说第三方app了。如果后续有更多应用适配，我想体验会很不错。<p>好话说完了，下面说说缺点。<h1 id=bei-zuo-chou-de-di-fang>被做臭的地方</h1><h2 id=xin-de-shou-shi-xi-tong>新的手势系统</h2><p>我个人认为这是新系统最大的槽点。<p>首先是应用间的切换，假如你正在同时使用 3 个应用，想从 1 切换到 3，新手势不像之前的 2-button navigation 一样给人感觉一气呵成，另外想进入最近任务列表也需要停顿一下，不如之前的方便。<p>其次就是 Google 这次最大的败笔：新手势的返回和拉出 drawer 操作冲突，只有把手势灵敏度调成最低才能勉强拉出。<p>drawer 是 Material Design 里最基础、最普及的一个组件，Google 你干脆把 MD 弄死算了<h2 id=she-zhi-zhong-bian-jie-qie-huan-wifi-lan-ya-de-zu-jian>设置中便捷切换 WiFi、蓝牙的组件</h2><p>Google 这是在自己填自己挖的坑。<p>Android L/M 时代，状态栏中就有二级菜单可以切换 WiFi、蓝牙，结果这个功能在 Android N 中被取消了。现在在设置 app 中加入这个组件聊胜于无，用户早就习惯在状态栏长按对应 icon 进入设置了，谁还会专门打开设置 app？<h2 id=choose-use-which-app-to-open-zhong-de-always-use-this-app-xu-yao-dao-ying-yong-she-zhi-zhong-she-zhi>“Choose use which app to open”中的“Always use this app”需要到应用设置中设置</h2><p>这不是脱了裤子放屁吗？我根本无法理解这个改变是为了什么，设置完你还需要重新点击想要打开的内容，假如你想打开的内容显示时间有限，那该怎么办？<h2 id=ge-chong-ge-yang-de-bug>各种各样的 bug</h2><ul><li>开启 AOD（Always on Display）后，最下面一行的电量信息和“Device is managed by your organization”只能显示一半；<li>刚刚更新完后 play 报<code>DF-DFERH-01</code>错、重启、清除应用设置 N 次也没有解决，第二天正在考虑退回 Android P 时又自己恢复正常了；<li>play 中已购买的 app 要求重新付费，吓了我一跳，还以为我的 Google 账号出了问题，之前买过的一堆解锁器和游戏难道都飞了？还好和上一条一样，第二天又自己恢复正常了；<li>最近任务列表中应用预览经常性地和实际应用对不上号，就是你打开 photos，进入最近任务列表后发现预览竟然是 calendar...<li>点击最近任务列表中的应用有时会显示 App isn't available。<li>...</ul><h1 id=zai-bu-root-de-qing-kuang-xia-fang-xin-shi-yong-shou-ji>在不 root 的情况下放心使用手机</h1><p>在更新系统前，我一直以为新的 sandbox 功能还在，而之前的消息称只有在Q下新安装的app才会启用sandbox，所以我索性就直接下载了factory image，干脆彻底重装吧。<p>结果更新完、刷完 twrp 后才发现，sandbox 早就被移除了，Android Q 的加密也改了，twrp 无法 decrypt data 分区，sideload 也坏了... 既然刷不了 magisk，那干脆 twrp 也不要了，直接把 bootloader 锁上算了，更安全嘛。<p>这么多年来，我还没有尝试过在没有 root 的情况下使用手机，但这次发现无 root 其实没有我想象的那么恐怖。<p>移动网络、WiFi 上的<code>×</code>号可以通过 adb 去掉；把 island 通过 adb 设置为 Device Manager 后可以接管 Mainland，从而 App Ops、Ice Box 都可以使用了，唯有 Greenify 在不 root 的情况下比较麻烦，休眠应用需要借助系统应用列表中的 force stop。<p>Google Now Feed 和 Google Location Report/History 就比较麻烦了，一番搜索后，找到了推友李先生的两篇文章：<ul><li><p><a href=https://plumz.me/archives/8889/>免 Root 修复你的 Google Now Feed</a></p><li><p><a href=https://plumz.me/archives/9884/>消除 Google Phone APP 的权限提示</a></p></ul><p>按照文章中的方法可以开启 Google Now Feed 和 Google Location Report/History，但问题是经常会弹出各种各样的错误通知：XXX 应用需要 play service 开启 phone 权限，很烦。<h1 id=shuo-shuo-dui-android-de-kan-fa>说说对 Android 的看法</h1><p>你可曾记得 Android M？<p>从 L 升级到 M，UI 上的变化不多，但正是对功能上的小修小补，造就了我个人认为最好的一代 Android。M 的 UI 在今天看来可能都不算落伍；<p>那时的 Material Design 还没有 Bottom Bar，整个系统简洁、美观； Now on Tap 的 OCR 还非常方便、好用； 新加入的应用权限控制功能也不错，虽然有“亲爱的用户，我是你爹”式的 app，但是用 app ops 也可以管住它们； 我们还可以用 substratum 改各种主题； Google 的口号还是“Don't be evil”而不是“Do the <em>right</em> thing” ...<p>回看这 5 年来 Android 的更新，可以看到 Google 在创新，同时也不在创新。<p>每次更新，Google 都会带来一套新的 UI，且不说它有没有起到方便用户的作用，增加用户学习成本倒是完美做到了。 然而在权限管控方面，Google 永远做得那么不紧不慢。应用沙盒，Google 搞了这么多年也没搞完；加入了权限开关，结果想不到这个锁竟然如此“君子”，竟然会出现“不给权限不让用”这种情况？<p>当然，由于历史遗留问题，手段强硬地加入新政策、新功能短时间内会让厂商、用户很“痛”，但长“痛”不如短“痛”。可惜，因为 Google 的不作为，我们这些用户一直在“痛”。<p>我们什么时候才能再收到一次像 Jelly Beam -> KitKat 或 KitKat -> Lollipop 一样的更新？<p>或许是 Google 变了。<p>从非 Chrome 浏览器浏览 YouTube 时功能被限制，到 Dragonfly 项目，到 Google Home 用户录音被工作人员收听，再到限制 Chrome 中的 adblock 插件，Google 已经不再是我们熟悉的那个 Google 了。<p>或许，是时候与 Google 说再见了？</div><div id=comments-issue-id style=display:none>32</div><div id=comments-addition style=display:none>[{"user":{"login":"ホロ","html_url":"https://blog.yoitsu.moe","avatar_url":"https://secure.gravatar.com/avatar/13650e6abb26b891c6bed92ffe8b2b5f?d=retro"},"created_at":"2019-09-13T12:01:12Z","body":"立刻关机？ 😂😂"},{"user":{"login":"EAimTY","html_url":"https://www.eaimty.com/","avatar_url":"https://secure.gravatar.com/avatar/f64037e002ad7b01fe9ee60351bfd1d2?d=retro"},"created_at":"2019-09-15T08:08:09Z","body":"> 立刻关机？ 😂😂\n\n关机❌砸手机✔️\n不过最近我的手机真的摔了，我这辈子第一次摔手机就把背面玻璃摔裂了…😭"},{"user":{"login":"Benny","html_url":"https://www.bennythink.com","avatar_url":"https://secure.gravatar.com/avatar/38a94d1b56f913b2531ab3a36577d3e4?d=retro"},"created_at":"2019-09-11T12:59:20Z","body":"觉得这个手势很智障……"}]</div><style>#comment-header,#comment-list>li{margin:1em auto}#comment-avatar,#comment-tip{margin:auto .2em}#comment-action-avatar,#comment-avatar{width:1em;height:1em}#comment-action-info>*,#comment-action-input>*,#comment-info>*{display:inline-block;vertical-align:middle}#comment-header{font-size:1.6em;font-weight:700;line-height:1.6em}#comment-tip{font-style:italic}#comment-list{list-style:none;padding:0}#comment-action-author,#comment-author{font-weight:700;margin:auto .4em}#comment-datetime{font-size:.8em;font-style:italic}#comment-body{margin:auto 1.8em}#comment-action-info>*{margin:1em .2em}#comment-action-input{height:2em;width:100%;margin:1em auto}#comment-action-input>*{height:100%;margin:0 .2em}#comment-action-textarea{width:calc(100% - 8em)}#comment-action-post{width:6em}#comment-action-login{margin:1em .3em}</style><ol id=comment-list></ol><div id=comment-action></div><script>const y=e=>{var t=/\\([\\\|`*_{}\[\]()#+\-~])/g,n=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,i=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,o=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,a=/^.*\n( *\|( *:?-+:?-+:? *\|)* *\n|)/,c=/.*\n/g,m=/\||(.*?[^\\])\|/g;const l=(t,n)=>{e=e.replace(t,n)},d=(e,t)=>"<"+e+">"+t+"</"+e+">",r=e=>e.replace(n,((e,t)=>d("blockquote",r(u(t.replace(/^ *&gt; */gm,"")))))),s=e=>e.replace(i,((e,t,n,i,o,a)=>(e=d("li",u(a.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(s).join("</li><li>"))),"\n"+(n?'<ol start="'+(i?n+'">':parseInt(n,36)-9+'" style="list-style-type:'+(o?"low":"upp")+'er-alpha">')+e+"</ol>":d("ul",e))))),u=e=>e.replace(o,((e,t,n,i,o,a,c,m,l,r)=>t+d(i?l?"strong":"em":o?l?"s":"sub":a?"sup":c?"small":m?"big":"code",u(r))));var p=[],h=0;return e="\n"+e+"\n",l(/</g,"&lt;"),l(/>/g,"&gt;"),l(/\t|\r|\uf8ff/g,"  "),e=r(e),l(/^([*\-=_] *){3,}$/gm,"<hr/>"),e=s(e),l(/<\/(ol|ul)>\n\n<\1>/g,""),l(/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,((e,t,n,i,o)=>(p[--h]=d("pre",d("code",i||o.replace(/^    /gm,""))),h+""))),l(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,((e,n,i,o,a,c,m)=>(p[--h]=a?i?'<img src="'+a+'" alt="'+o+'"/>':'<a href="'+a+'">'+u(o).replace(t,"$1")+"</a>":m,h+""))),l(/&lt;(.*?)&gt;/g,((e,n)=>'<a href="'+n+'">'+u(n).replace(t,"$1")+"</a>")),l(/\n(( *\|.*?\| *\n)+)/g,((e,n)=>{var i=n.match(a)[1];return"\n"+d("table",n.replace(c,((e,n)=>e==i?"":d("tr",e.replace(m,((e,o,a)=>a?d(i&&!n?"th":"td",u(o||"").replace(t,"$1")):""))))))})),l(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,((e,n,i,o)=>n+d("h"+i.length,u(o).replace(t,"$1")))),l(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,((e,n)=>d("p",u(n).replace(t,"$1")))),l(/-\d+\uf8ff/g,(e=>p[parseInt(e,10)])),e.trim()},f=e=>{let t=t=>e.next(t),n=t=>e.throw(t);return new Promise(((i,o)=>{let a=e=>{e.done?i(e.value):Promise.resolve(e.value).then(t,n).then(a,o)};a(e.next())}))};let g;const m=document.getElementById("comments-issue-id").innerText,n=new URL(window.location.href);let q,p=n.searchParams.get("github_access_token");p&&(document.cookie=`github_access_token=${p};Path=/;Secure;SameSite=Strict`,n.searchParams.delete("github_access_token"),window.location.replace(n)),null!=p||(p=null==(q=document.cookie.split(";").find((e=>e.trim().startsWith("github_access_token="))))?void 0:q.trim().substring(20));const r=()=>{document.cookie="github_access_token=;expires=Thu, 01 Jan 1970 00:00:00 GMT;Path=/;Secure;SameSite=Strict",p=null},t=()=>f(function*(){var e;let n;if(g=JSON.parse(null!=(n=null==(e=document.getElementById("comments-addition"))?void 0:e.innerText)?n:"[]"),p){if(200!==(e=yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}&github_access_token=${p}`,{method:"GET"})).status)return r(),yield t()}else e=yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}`,{method:"GET"});200===e.status&&(g=g.concat(yield e.json()))}()),u=()=>{g.sort(((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()));let e=document.getElementById("comment-list");e.innerHTML="";var t=document.createElement("div");for(t.id="comment-header",t.innerText="Comments",e.appendChild(t),0===g.length&&((t=document.createElement("div")).id="comment-tip",t.innerText="No comment yet",e.appendChild(t)),t=0;t<g.length;t++){let o=document.createElement("li");var n=document.createElement("div");n.id="comment-info";var i=document.createElement("img");i.id="comment-avatar",i.src=g[t].user.avatar_url,n.appendChild(i),(i=document.createElement("a")).id="comment-author",i.innerText=g[t].user.login,g[t].user.html_url&&(i.href=g[t].user.html_url),n.appendChild(i),(i=document.createElement("div")).id="comment-datetime",i.innerText=new Date(g[t].created_at).toLocaleString(),n.appendChild(i),o.appendChild(n),(n=document.createElement("div")).id="comment-body",n.innerHTML=y(g[t].body),o.appendChild(n),e.appendChild(o)}},v=()=>f(function*(){let e=document.getElementById("comment-action");e.innerHTML="";var n=document.createElement("div");if(n.id="comment-header",n.innerText="Leave a comment",e.appendChild(n),p){if(200===(n=yield fetch(`https://comments.eaimty.com/userinfo?github_access_token=${p}`,{method:"GET"})).status){n=yield n.json();let o=document.createElement("div");o.id="comment-action-info";var i=document.createElement("img");i.id="comment-action-avatar",i.src=n.avatar_url,o.appendChild(i),(i=document.createElement("a")).id="comment-action-author",i.innerText=n.login,i.href=n.html_url,o.appendChild(i);let a=document.createElement("button");a.id="comment-action-logout",a.innerText="Logout",a.addEventListener("click",(()=>{r(),v()})),o.appendChild(a),e.appendChild(o),(n=document.createElement("div")).id="comment-tip",n.innerText="Before commenting, please think about whether your comment is meaningful? Is it related to the topic? Is it rational and friendly? If you were someone else, would you feel uncomfortable seeing this comment?",e.appendChild(n),(n=document.createElement("div")).id="comment-action-input";let c=document.createElement("textarea");c.id="comment-action-textarea",c.placeholder="Leave a comment",n.appendChild(c);let l=document.createElement("button");return l.id="comment-action-post",l.innerText="Comment",l.addEventListener("click",(()=>f(function*(){a.disabled=!0,c.disabled=!0,l.disabled=!0;let e=c.value.trim();0!==e.length&&(201===(yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}&github_access_token=${p}`,{method:"POST",body:JSON.stringify({body:e})})).status?t().then((()=>u())).then((()=>v())):(r(),yield v(),window.alert("Failed to post comment")))}()))),n.appendChild(l),void e.appendChild(n)}r()}(n=document.createElement("div")).id="comment-tip",n.innerText="Clicking the login button means you agree to use cookies to store your GitHub Access Token",e.appendChild(n),(n=document.createElement("button")).id="comment-action-login",n.innerText="Login with GitHub",n.addEventListener("click",(()=>window.location.replace(`https://comments.eaimty.com/login?redirect_uri=${window.location.href}`))),e.appendChild(n)}());t().then((()=>u())).then((()=>v()))</script></div>