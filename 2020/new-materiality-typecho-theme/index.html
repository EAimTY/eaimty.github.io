<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=#000000 id=color_chrome name=theme-color><meta content=#000000 id=color_safari name=apple-mobile-web-app-status-bar-style><meta content="EAimTY's Blog" name=description><link rel="Shortcut Icon" href=https://www.eaimty.com/favicon.ico><link href=https://www.eaimty.com/favicon.ico rel=Bootmark><link title="EAimTY's Blog" href=https://www.eaimty.com/rss.xml rel=alternate type=application/rss+xml><style>#title,body{line-height:1.6em}body{background:#000;color:#00c000;font-size:1.2em}#container{margin:2.4em auto;width:72%}#header{text-align:center}#header>a{font-size:.96em;margin:auto 1em}#title{font-size:1.6em;font-weight:700;margin:1em auto}#date{font-style:italic}#list>li{margin:.8em auto;list-style:disc}img{max-width:100%}a{color:inherit;text-decoration:none}#content a,a:hover{text-decoration:underline}pre{padding:1em;overflow:auto;background:#1b1d16}:not(pre) >code{padding:.2em;background:#1b1d16;overflow:auto}blockquote{padding:0 1em;margin:0;border-left:.25em solid #212121}@media (max-width:600px){#container{width:88%}#header>a{margin:auto .3em}}</style><title>新的 materiality-typecho-theme - EAimTY's Blog</title><body><div id=header><a href=https://www.eaimty.com>EAimTY's Blog</a><a href=https://www.eaimty.com/about/>About</a><a href=https://www.eaimty.com/friends/>Friends</a></div><div id=container><a href=https://www.eaimty.com/2020/new-materiality-typecho-theme/ id=title>新的 materiality-typecho-theme</a><div id=date>2020-03-24</div><div id=content><p>时间过的真快啊，从 2017 年 3 月 16 日我提交了这个主题的首个 commit，到现在已经整整 3 年过去了。 在之前的三年里作为一个完成度极低的主题能收获几十个 star 我已经很满意了，不过经过这两个月间的重构与完善，这个主题应该会更好用，所以特意写了这篇文章来宣传😂<p>当初这个博客刚刚建立时，由于我对 MD 的无脑粉，我使用了 <a href=https://github.com/Hanson/typecho_material_theme>HanSon/typecho_material_theme</a>。但是...这个主题用的是 material bootstrap，所以我总觉得缺那么一股味道...<p>于是，我顺藤摸瓜地找到了 Google 官方的 <a href=https://github.com/google/material-design-lite>Material Design Lite</a>。我照着 HanSon 的 typecho_material_theme，用 Material Design Lite 仿造出了一个简陋的主题：<a href=https://github.com/EAimTY/typecho_material_theme>EAimTY/typecho_material_theme</a>。我对前端的知识量几乎为零，所以那个主题几乎丑到不能看...<p>一次，我偶然发现了 <a href=https://www.mdui.org/>MDUI</a> 这个库。相比与 Material Design Lite，MDUI 的完成度高得多，功能与组件丰富，用起来简单方便，而且还包含了一个 JS 工具库 <code>mdui.JQ</code>，体积比 jquery 小很多，但功能也够用。 我用 MDUI 重写了博客的主题，产物就是 <a href=https://www.eaimty.com/theme.html>materiality-typecho-theme</a>。 由于我对很多前端知识只是一知半解，况且当时在上高中没有太多空余时间，一直到 2019 年末，这个主题的完成度仍旧不高。尽管如此，MDUI 的作者仍然将这个主题放在了 <a href=https://www.mdui.org/>MDUI 项目的首页</a>进行展示，十分感谢！<p>转眼间三年就过去了，Google 推出了“更加扁平的 Material Design 2”来变相搞死 MD，我对其执着也逐渐变淡了。期间我对这个主题的更新“很不上心”。直到 2020 年寒假，我有了大把的空闲时间，才开始对这个主题的大规模修改。<p>为了填当年挖的坑，同时也为了让主题值得被继续“挂”在 MDUI 的官网上，我明确了这个主题要实现的功能与侧重点：简洁、文字显示，并在 2020 年初的两个月里提交了比前面三年间提交总数还多的 commits...<p>这是主题最近的 CHANGELOG：<a href=https://github.com/EAimTY/materiality-typecho-theme/blob/master/CHANGELOG.md>CHANGELOG.md</a><p>现在这个主题的完成度已经不是那么低了，所以为了保持简洁性，主题今后的更新将以修复漏洞为主，不再会像之前两个月一样非常频繁地加入新功能。</div><div id=comments-issue-id style=display:none>37</div><div id=comments-addition style=display:none>[{"user":{"login":"v投笔从容v","html_url":"https://shanpeng.wang","avatar_url":"https://secure.gravatar.com/avatar/beef0d08b40887f978689a6f76129ea2?d=retro"},"created_at":"2020-05-16T08:46:57Z","body":"> > 是屏蔽了代码高亮吗?怎么恢复\n> \n> 代码高亮并非是被屏蔽了，而是MDUI并没有这个功能\n> 主题的下个版本应该会加入代码高亮功能😀\n\n同求代码高亮功能，找了一些typecho插件，都不好用。"},{"user":{"login":"v投笔从容v","html_url":"https://shanpeng.wang","avatar_url":"https://secure.gravatar.com/avatar/beef0d08b40887f978689a6f76129ea2?d=retro"},"created_at":"2020-05-16T08:47:42Z","body":"> > 是屏蔽了代码高亮吗?怎么恢复\n> \n> 代码高亮并非是被屏蔽了，而是MDUI并没有这个功能\n> 主题的下个版本应该会加入代码高亮功能😀\n\n我还想问一下，你用的什么插件支持LaTeX公式啊？"},{"user":{"login":"萤石","html_url":"https://fluors.net","avatar_url":"https://secure.gravatar.com/avatar/3dc4b15056f053375886581c6e1f2221?d=retro"},"created_at":"2020-05-12T09:28:39Z","body":"是屏蔽了代码高亮吗?怎么恢复"},{"user":{"login":"学神之女","html_url":"https://www.dffzmxj.com","avatar_url":"https://secure.gravatar.com/avatar/118fb7985313497795358632967595b5?d=retro"},"created_at":"2020-07-06T13:22:17Z","body":"你的主题应该会很稳，在MDUI首页挂着的网页中，有不少是挂掉的。\n\n至于Material Design 2……最不满意的就是很圆润的圆角。\n\n另外，有些动效实现起来好累人。\n\n右下角备案信息很出戏😂。"},{"user":{"login":"油油","html_url":"https://www.200011.net","avatar_url":"https://secure.gravatar.com/avatar/d9735fa38f5f2dd01865ac6b873585e9?d=retro"},"created_at":"2020-04-09T12:12:28Z","body":"太棒了吧，我的免费放出来都没人要"},{"user":{"login":"EAimTY","html_url":"https://www.eaimty.com/","avatar_url":"https://secure.gravatar.com/avatar/f64037e002ad7b01fe9ee60351bfd1d2?d=retro"},"created_at":"2020-11-02T03:10:50Z","body":"> > > 是屏蔽了代码高亮吗?怎么恢复\n> > \n> > 代码高亮并非是被屏蔽了，而是MDUI并没有这个功能\n> > 主题的下个版本应该会加入代码高亮功能😀\n> \n> 同求代码高亮功能，找了一些typecho插件，都不好用。\n\n新版本已经支持代码高亮了😃"},{"user":{"login":"初夏阳光","avatar_url":"https://secure.gravatar.com/avatar/fc32f14ea2531cfd9415c9e0b3faa905?d=retro"},"created_at":"2020-04-25T10:14:32Z","body":"> 太棒了吧，我的免费放出来都没人要\n\n主题嘛，自己写写抱着玩一玩的态度就好了。\n\n要我说主题写的太完美的话，用同一个主题的人太多，感觉会审美疲劳 233"},{"user":{"login":"EAimTY","html_url":"https://www.eaimty.com/","avatar_url":"https://secure.gravatar.com/avatar/f64037e002ad7b01fe9ee60351bfd1d2?d=retro"},"created_at":"2020-05-12T16:38:37Z","body":"> 是屏蔽了代码高亮吗?怎么恢复\n\n代码高亮并非是被屏蔽了，而是MDUI并没有这个功能\n主题的下个版本应该会加入代码高亮功能😀"}]</div><style>#comment-header,#comment-list>li{margin:1em auto}#comment-avatar,#comment-tip{margin:auto .2em}#comment-action-avatar,#comment-avatar{width:1em;height:1em}#comment-action-info>*,#comment-action-input>*,#comment-info>*{display:inline-block;vertical-align:middle}#comment-header{font-size:1.6em;font-weight:700;line-height:1.6em}#comment-tip{font-style:italic}#comment-list{list-style:none;padding:0}#comment-action-author,#comment-author{font-weight:700;margin:auto .4em}#comment-datetime{font-size:.8em;font-style:italic}#comment-body{margin:auto 1.8em}#comment-action-info>*{margin:1em .2em}#comment-action-input{height:2em;width:100%;margin:1em auto}#comment-action-input>*{height:100%;margin:0 .2em}#comment-action-textarea{width:calc(100% - 8em)}#comment-action-post{width:6em}#comment-action-login{margin:1em .3em}</style><ol id=comment-list></ol><div id=comment-action></div><script>const y=e=>{var t=/\\([\\\|`*_{}\[\]()#+\-~])/g,n=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,i=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,o=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,a=/^.*\n( *\|( *:?-+:?-+:? *\|)* *\n|)/,c=/.*\n/g,m=/\||(.*?[^\\])\|/g;const l=(t,n)=>{e=e.replace(t,n)},d=(e,t)=>"<"+e+">"+t+"</"+e+">",r=e=>e.replace(n,((e,t)=>d("blockquote",r(u(t.replace(/^ *&gt; */gm,"")))))),s=e=>e.replace(i,((e,t,n,i,o,a)=>(e=d("li",u(a.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(s).join("</li><li>"))),"\n"+(n?'<ol start="'+(i?n+'">':parseInt(n,36)-9+'" style="list-style-type:'+(o?"low":"upp")+'er-alpha">')+e+"</ol>":d("ul",e))))),u=e=>e.replace(o,((e,t,n,i,o,a,c,m,l,r)=>t+d(i?l?"strong":"em":o?l?"s":"sub":a?"sup":c?"small":m?"big":"code",u(r))));var p=[],h=0;return e="\n"+e+"\n",l(/</g,"&lt;"),l(/>/g,"&gt;"),l(/\t|\r|\uf8ff/g,"  "),e=r(e),l(/^([*\-=_] *){3,}$/gm,"<hr/>"),e=s(e),l(/<\/(ol|ul)>\n\n<\1>/g,""),l(/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,((e,t,n,i,o)=>(p[--h]=d("pre",d("code",i||o.replace(/^    /gm,""))),h+""))),l(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,((e,n,i,o,a,c,m)=>(p[--h]=a?i?'<img src="'+a+'" alt="'+o+'"/>':'<a href="'+a+'">'+u(o).replace(t,"$1")+"</a>":m,h+""))),l(/&lt;(.*?)&gt;/g,((e,n)=>'<a href="'+n+'">'+u(n).replace(t,"$1")+"</a>")),l(/\n(( *\|.*?\| *\n)+)/g,((e,n)=>{var i=n.match(a)[1];return"\n"+d("table",n.replace(c,((e,n)=>e==i?"":d("tr",e.replace(m,((e,o,a)=>a?d(i&&!n?"th":"td",u(o||"").replace(t,"$1")):""))))))})),l(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,((e,n,i,o)=>n+d("h"+i.length,u(o).replace(t,"$1")))),l(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,((e,n)=>d("p",u(n).replace(t,"$1")))),l(/-\d+\uf8ff/g,(e=>p[parseInt(e,10)])),e.trim()},f=e=>{let t=t=>e.next(t),n=t=>e.throw(t);return new Promise(((i,o)=>{let a=e=>{e.done?i(e.value):Promise.resolve(e.value).then(t,n).then(a,o)};a(e.next())}))};let g;const m=document.getElementById("comments-issue-id").innerText,n=new URL(window.location.href);let q,p=n.searchParams.get("github_access_token");p&&(document.cookie=`github_access_token=${p};Path=/;Secure;SameSite=Strict`,n.searchParams.delete("github_access_token"),window.location.replace(n)),null!=p||(p=null==(q=document.cookie.split(";").find((e=>e.trim().startsWith("github_access_token="))))?void 0:q.trim().substring(20));const r=()=>{document.cookie="github_access_token=;expires=Thu, 01 Jan 1970 00:00:00 GMT;Path=/;Secure;SameSite=Strict",p=null},t=()=>f(function*(){var e;let n;if(g=JSON.parse(null!=(n=null==(e=document.getElementById("comments-addition"))?void 0:e.innerText)?n:"[]"),p){if(200!==(e=yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}&github_access_token=${p}`,{method:"GET"})).status)return r(),yield t()}else e=yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}`,{method:"GET"});200===e.status&&(g=g.concat(yield e.json()))}()),u=()=>{g.sort(((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()));let e=document.getElementById("comment-list");e.innerHTML="";var t=document.createElement("div");for(t.id="comment-header",t.innerText="Comments",e.appendChild(t),0===g.length&&((t=document.createElement("div")).id="comment-tip",t.innerText="No comment yet",e.appendChild(t)),t=0;t<g.length;t++){let o=document.createElement("li");var n=document.createElement("div");n.id="comment-info";var i=document.createElement("img");i.id="comment-avatar",i.src=g[t].user.avatar_url,n.appendChild(i),(i=document.createElement("a")).id="comment-author",i.innerText=g[t].user.login,g[t].user.html_url&&(i.href=g[t].user.html_url),n.appendChild(i),(i=document.createElement("div")).id="comment-datetime",i.innerText=new Date(g[t].created_at).toLocaleString(),n.appendChild(i),o.appendChild(n),(n=document.createElement("div")).id="comment-body",n.innerHTML=y(g[t].body),o.appendChild(n),e.appendChild(o)}},v=()=>f(function*(){let e=document.getElementById("comment-action");e.innerHTML="";var n=document.createElement("div");if(n.id="comment-header",n.innerText="Leave a comment",e.appendChild(n),p){if(200===(n=yield fetch(`https://comments.eaimty.com/userinfo?github_access_token=${p}`,{method:"GET"})).status){n=yield n.json();let o=document.createElement("div");o.id="comment-action-info";var i=document.createElement("img");i.id="comment-action-avatar",i.src=n.avatar_url,o.appendChild(i),(i=document.createElement("a")).id="comment-action-author",i.innerText=n.login,i.href=n.html_url,o.appendChild(i);let a=document.createElement("button");a.id="comment-action-logout",a.innerText="Logout",a.addEventListener("click",(()=>{r(),v()})),o.appendChild(a),e.appendChild(o),(n=document.createElement("div")).id="comment-tip",n.innerText="Before commenting, please think about whether your comment is meaningful? Is it related to the topic? Is it rational and friendly? If you were someone else, would you feel uncomfortable seeing this comment?",e.appendChild(n),(n=document.createElement("div")).id="comment-action-input";let c=document.createElement("textarea");c.id="comment-action-textarea",c.placeholder="Leave a comment",n.appendChild(c);let l=document.createElement("button");return l.id="comment-action-post",l.innerText="Comment",l.addEventListener("click",(()=>f(function*(){a.disabled=!0,c.disabled=!0,l.disabled=!0;let e=c.value.trim();0!==e.length&&(201===(yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}&github_access_token=${p}`,{method:"POST",body:JSON.stringify({body:e})})).status?t().then((()=>u())).then((()=>v())):(r(),yield v(),window.alert("Failed to post comment")))}()))),n.appendChild(l),void e.appendChild(n)}r()}(n=document.createElement("div")).id="comment-tip",n.innerText="Clicking the login button means you agree to use cookies to store your GitHub Access Token",e.appendChild(n),(n=document.createElement("button")).id="comment-action-login",n.innerText="Login with GitHub",n.addEventListener("click",(()=>window.location.replace(`https://comments.eaimty.com/login?redirect_uri=${window.location.href}`))),e.appendChild(n)}());t().then((()=>u())).then((()=>v()))</script></div>