<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=#000000 id=color_chrome name=theme-color><meta content=#000000 id=color_safari name=apple-mobile-web-app-status-bar-style><meta content="EAimTY's Blog" name=description><link rel="Shortcut Icon" href=https://www.eaimty.com/favicon.ico><link href=https://www.eaimty.com/favicon.ico rel=Bootmark><link title="EAimTY's Blog" href=https://www.eaimty.com/rss.xml rel=alternate type=application/rss+xml><style>#title,body{line-height:1.6em}body{background:#000;color:#00c000;font-size:1.2em}#container{margin:2.4em auto;width:72%}#header{text-align:center}#header>a{font-size:.96em;margin:auto 1em}#title{font-size:1.6em;font-weight:700;margin:1em auto}#date{font-style:italic}#list>li{margin:.8em auto;list-style:disc}img{max-width:100%}a{color:inherit;text-decoration:none}#content a,a:hover{text-decoration:underline}pre{padding:1em;overflow:auto;background:#1b1d16}:not(pre) >code{padding:.2em;background:#1b1d16;overflow:auto}blockquote{padding:0 1em;margin:0;border-left:.25em solid #212121}@media (max-width:600px){#container{width:88%}#header>a{margin:auto .3em}}</style><title>GFWList AutoProxy PAC File - EAimTY's Blog</title><body><div id=header><a href=https://www.eaimty.com>EAimTY's Blog</a><a href=https://www.eaimty.com/about/>About</a><a href=https://www.eaimty.com/friends/>Friends</a></div><div id=container><a href=https://www.eaimty.com/2018/pac/ id=title>GFWList AutoProxy PAC File</a><div id=date>2018-05-23</div><div id=content><p><strong>由于GFWList已经无法囊括越来越多的被墙站点，白名单是更好的选择</strong> <strong>况且我的服务器不在你国境内，通信干扰严重，所以该服务已经关闭</strong><p>最近重新开始用 Shadowsocks-Qt5，但因为 ss-qt5 不能在应用内直接获取 PAC，所以我把之前上过线但已经被我下线的 <a href=https://pac.eaimty.com>GFWList AutoProxy PAC File</a> 重新搞了出来：<p><a href=https://pac.eaimty.com>https://pac.eaimty.com</a><p>使用 genpac 生成，每天更新的 GFWList PAC 文件 文件中默认的 proxy 是 SOCKS5, 127.0.0.1:1080<p>对于 Linux，编辑 <code>/etc/enviroment</code> 文件，加入或修改：<pre class=language-sh data-lang=sh><code class=language-sh data-lang=sh>auto_proxy="https://pac.eaimty.com/autoproxy.pac"
AUTO_PROXY="https://pac.eaimty.com/autoproxy.pac"
</code></pre><p>就可以设置 system-wide proxy。</div><div id=comments-issue-id style=display:none>28</div><div id=comments-addition style=display:none>[{"user":{"login":"老大哥","html_url":"http://www.gov.cn","avatar_url":"https://secure.gravatar.com/avatar/3232a9185d67f65bcb803bf4f9013d77?d=retro"},"created_at":"2018-11-21T06:51:08Z","body":"老大哥一直在看着你"},{"user":{"login":"Woody","avatar_url":"https://secure.gravatar.com/avatar/ce8649da130d6b315e5436f10285ba26?d=retro"},"created_at":"2020-02-05T04:47:48Z","body":"> > > > 你好\n> > > \n> > > 我关闭 https://pac.eaimty.com 的一个原因就是其已在国内被限制访问了，而且我的PAC文件也是用genpac生成的，所以你遇到的问题应该不是PAC文件有问题。\n> > > 是不是用genpac的时候写错了代理类型（是不是误写了HTTP？）或端口？\n> > > 我没用过Ubuntu所以不太清楚“network proxy模式”，但是我在Debian下使用放在本地的PAC文件时也遇到过类似情况：\n> > > 在`/etc/enviroment`中加入了：\n> > > \n> > > auto_proxy=\"file:///PATH/TO/PAC\"\n> > > AUTO_PROXY=\"file:///PATH/TO/PAC\"\n> > > \n> > > 代理却没有生效。\n> > > \n> > > 我的解决方法是在本机上装个Nginx，用它listen一个端口serve本机上的PAC文件，并且设置开机自启，配置文件的server段如下：\n> > > \n> > > server {\n> > > listen 1081;\n> > > server_name localhost;\n> > > location / {\n> > > root /PAC_FILE_DIRECTORY/;\n> > > try_files /PAC_FILE /PAC_FILE;\n> > > }\n> > > }\n> > > \n> > > 然后在`/etc/enviroment`中加入：\n> > > \n> > > auto_proxy=\"http://127.0.0.1:1081\"\n> > > AUTO_PROXY=\"http://127.0.0.1:1081\"\n> > > \n> > > 之后PAC规则就生效了。\n> > > 希望对你有帮助。\n> > \n> > 你好，\n> > 能否把你的pac文件发一份到我的邮箱woody00h@gmail.com.我一试便知是不是pac的问题。谢谢！\n> \n> 我现在使用的是这个白名单 https://github.com/MatcherAny/whitelist.pac 原封不动没有做任何更改\n\n你好"},{"user":{"login":"Woody","avatar_url":"https://secure.gravatar.com/avatar/ce8649da130d6b315e5436f10285ba26?d=retro"},"created_at":"2020-02-04T09:11:36Z","body":"> > 你好\n> \n> 我关闭 https://pac.eaimty.com 的一个原因就是其已在国内被限制访问了，而且我的PAC文件也是用genpac生成的，所以你遇到的问题应该不是PAC文件有问题。\n> 是不是用genpac的时候写错了代理类型（是不是误写了HTTP？）或端口？\n> 我没用过Ubuntu所以不太清楚“network proxy模式”，但是我在Debian下使用放在本地的PAC文件时也遇到过类似情况：\n> 在`/etc/enviroment`中加入了：\n> \n> auto_proxy=\"file:///PATH/TO/PAC\"\n> AUTO_PROXY=\"file:///PATH/TO/PAC\"\n> \n> 代理却没有生效。\n> \n> 我的解决方法是在本机上装个Nginx，用它listen一个端口serve本机上的PAC文件，并且设置开机自启，配置文件的server段如下：\n> \n> server {\n> listen 1081;\n> server_name localhost;\n> location / {\n> root /PAC_FILE_DIRECTORY/;\n> try_files /PAC_FILE /PAC_FILE;\n> }\n> }\n> \n> 然后在`/etc/enviroment`中加入：\n> \n> auto_proxy=\"http://127.0.0.1:1081\"\n> AUTO_PROXY=\"http://127.0.0.1:1081\"\n> \n> 之后PAC规则就生效了。\n> 希望对你有帮助。\n\n你好，\n能否把你的pac文件发一份到我的邮箱woody00h@gmail.com.我一试便知是不是pac的问题。谢谢！"},{"user":{"login":"Woody","avatar_url":"https://secure.gravatar.com/avatar/ce8649da130d6b315e5436f10285ba26?d=retro"},"created_at":"2020-02-03T09:19:23Z","body":"你好"},{"user":{"login":"游客","avatar_url":"https://secure.gravatar.com/avatar/?d=retro"},"created_at":"2019-09-09T01:29:39Z","body":"感谢更新，在火狐上可以用，省去一个扩展"},{"user":{"login":"EAimTY","html_url":"https://www.eaimty.com/","avatar_url":"https://secure.gravatar.com/avatar/f64037e002ad7b01fe9ee60351bfd1d2?d=retro"},"created_at":"2020-02-04T09:16:27Z","body":"> > > 你好\n> > \n> > 我关闭 https://pac.eaimty.com 的一个原因就是其已在国内被限制访问了，而且我的PAC文件也是用genpac生成的，所以你遇到的问题应该不是PAC文件有问题。\n> > 是不是用genpac的时候写错了代理类型（是不是误写了HTTP？）或端口？\n> > 我没用过Ubuntu所以不太清楚“network proxy模式”，但是我在Debian下使用放在本地的PAC文件时也遇到过类似情况：\n> > 在`/etc/enviroment`中加入了：\n> > \n> > auto_proxy=\"file:///PATH/TO/PAC\"\n> > AUTO_PROXY=\"file:///PATH/TO/PAC\"\n> > \n> > 代理却没有生效。\n> > \n> > 我的解决方法是在本机上装个Nginx，用它listen一个端口serve本机上的PAC文件，并且设置开机自启，配置文件的server段如下：\n> > \n> > server {\n> > listen 1081;\n> > server_name localhost;\n> > location / {\n> > root /PAC_FILE_DIRECTORY/;\n> > try_files /PAC_FILE /PAC_FILE;\n> > }\n> > }\n> > \n> > 然后在`/etc/enviroment`中加入：\n> > \n> > auto_proxy=\"http://127.0.0.1:1081\"\n> > AUTO_PROXY=\"http://127.0.0.1:1081\"\n> > \n> > 之后PAC规则就生效了。\n> > 希望对你有帮助。\n> \n> 你好，\n> 能否把你的pac文件发一份到我的邮箱woody00h@gmail.com.我一试便知是不是pac的问题。谢谢！\n\n我现在使用的是这个白名单 https://github.com/MatcherAny/whitelist.pac 原封不动没有做任何更改"},{"user":{"login":"EAimTY","html_url":"https://www.eaimty.com/","avatar_url":"https://secure.gravatar.com/avatar/f64037e002ad7b01fe9ee60351bfd1d2?d=retro"},"created_at":"2020-02-04T05:24:04Z","body":"> 你好\n\n我关闭 https://pac.eaimty.com 的一个原因就是其已在国内被限制访问了，而且我的PAC文件也是用genpac生成的，所以你遇到的问题应该不是PAC文件有问题。\n是不是用genpac的时候写错了代理类型（是不是误写了HTTP？）或端口？\n我没用过Ubuntu所以不太清楚“network proxy模式”，但是我在Debian下使用放在本地的PAC文件时也遇到过类似情况：\n在`/etc/enviroment`中加入了：\n\n auto_proxy=\"file:///PATH/TO/PAC\"\n AUTO_PROXY=\"file:///PATH/TO/PAC\"\n\n代理却没有生效。\n\n我的解决方法是在本机上装个Nginx，用它listen一个端口serve本机上的PAC文件，并且设置开机自启，配置文件的server段如下：\n\n server {\n listen 1081;\n server_name localhost;\n location / {\n root /PAC_FILE_DIRECTORY/;\n try_files /PAC_FILE /PAC_FILE;\n }\n }\n\n然后在`/etc/enviroment`中加入：\n\n auto_proxy=\"http://127.0.0.1:1081\"\n AUTO_PROXY=\"http://127.0.0.1:1081\"\n\n之后PAC规则就生效了。\n希望对你有帮助。"}]</div><style>#comment-header,#comment-list>li{margin:1em auto}#comment-avatar,#comment-tip{margin:auto .2em}#comment-action-avatar,#comment-avatar{width:1em;height:1em}#comment-action-info>*,#comment-action-input>*,#comment-info>*{display:inline-block;vertical-align:middle}#comment-header{font-size:1.6em;font-weight:700;line-height:1.6em}#comment-tip{font-style:italic}#comment-list{list-style:none;padding:0}#comment-action-author,#comment-author{font-weight:700;margin:auto .4em}#comment-datetime{font-size:.8em;font-style:italic}#comment-body{margin:auto 1.8em}#comment-action-info>*{margin:1em .2em}#comment-action-input{height:2em;width:100%;margin:1em auto}#comment-action-input>*{height:100%;margin:0 .2em}#comment-action-textarea{width:calc(100% - 8em)}#comment-action-post{width:6em}#comment-action-login{margin:1em .3em}</style><ol id=comment-list></ol><div id=comment-action></div><script>const y=e=>{var t=/\\([\\\|`*_{}\[\]()#+\-~])/g,n=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,i=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,o=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,a=/^.*\n( *\|( *:?-+:?-+:? *\|)* *\n|)/,c=/.*\n/g,m=/\||(.*?[^\\])\|/g;const l=(t,n)=>{e=e.replace(t,n)},d=(e,t)=>"<"+e+">"+t+"</"+e+">",r=e=>e.replace(n,((e,t)=>d("blockquote",r(u(t.replace(/^ *&gt; */gm,"")))))),s=e=>e.replace(i,((e,t,n,i,o,a)=>(e=d("li",u(a.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(s).join("</li><li>"))),"\n"+(n?'<ol start="'+(i?n+'">':parseInt(n,36)-9+'" style="list-style-type:'+(o?"low":"upp")+'er-alpha">')+e+"</ol>":d("ul",e))))),u=e=>e.replace(o,((e,t,n,i,o,a,c,m,l,r)=>t+d(i?l?"strong":"em":o?l?"s":"sub":a?"sup":c?"small":m?"big":"code",u(r))));var p=[],h=0;return e="\n"+e+"\n",l(/</g,"&lt;"),l(/>/g,"&gt;"),l(/\t|\r|\uf8ff/g,"  "),e=r(e),l(/^([*\-=_] *){3,}$/gm,"<hr/>"),e=s(e),l(/<\/(ol|ul)>\n\n<\1>/g,""),l(/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,((e,t,n,i,o)=>(p[--h]=d("pre",d("code",i||o.replace(/^    /gm,""))),h+""))),l(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,((e,n,i,o,a,c,m)=>(p[--h]=a?i?'<img src="'+a+'" alt="'+o+'"/>':'<a href="'+a+'">'+u(o).replace(t,"$1")+"</a>":m,h+""))),l(/&lt;(.*?)&gt;/g,((e,n)=>'<a href="'+n+'">'+u(n).replace(t,"$1")+"</a>")),l(/\n(( *\|.*?\| *\n)+)/g,((e,n)=>{var i=n.match(a)[1];return"\n"+d("table",n.replace(c,((e,n)=>e==i?"":d("tr",e.replace(m,((e,o,a)=>a?d(i&&!n?"th":"td",u(o||"").replace(t,"$1")):""))))))})),l(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,((e,n,i,o)=>n+d("h"+i.length,u(o).replace(t,"$1")))),l(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,((e,n)=>d("p",u(n).replace(t,"$1")))),l(/-\d+\uf8ff/g,(e=>p[parseInt(e,10)])),e.trim()},f=e=>{let t=t=>e.next(t),n=t=>e.throw(t);return new Promise(((i,o)=>{let a=e=>{e.done?i(e.value):Promise.resolve(e.value).then(t,n).then(a,o)};a(e.next())}))};let g;const m=document.getElementById("comments-issue-id").innerText,n=new URL(window.location.href);let q,p=n.searchParams.get("github_access_token");p&&(document.cookie=`github_access_token=${p};Path=/;Secure;SameSite=Strict`,n.searchParams.delete("github_access_token"),window.location.replace(n)),null!=p||(p=null==(q=document.cookie.split(";").find((e=>e.trim().startsWith("github_access_token="))))?void 0:q.trim().substring(20));const r=()=>{document.cookie="github_access_token=;expires=Thu, 01 Jan 1970 00:00:00 GMT;Path=/;Secure;SameSite=Strict",p=null},t=()=>f(function*(){var e;let n;if(g=JSON.parse(null!=(n=null==(e=document.getElementById("comments-addition"))?void 0:e.innerText)?n:"[]"),p){if(200!==(e=yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}&github_access_token=${p}`,{method:"GET"})).status)return r(),yield t()}else e=yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}`,{method:"GET"});200===e.status&&(g=g.concat(yield e.json()))}()),u=()=>{g.sort(((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()));let e=document.getElementById("comment-list");e.innerHTML="";var t=document.createElement("div");for(t.id="comment-header",t.innerText="Comments",e.appendChild(t),0===g.length&&((t=document.createElement("div")).id="comment-tip",t.innerText="No comment yet",e.appendChild(t)),t=0;t<g.length;t++){let o=document.createElement("li");var n=document.createElement("div");n.id="comment-info";var i=document.createElement("img");i.id="comment-avatar",i.src=g[t].user.avatar_url,n.appendChild(i),(i=document.createElement("a")).id="comment-author",i.innerText=g[t].user.login,g[t].user.html_url&&(i.href=g[t].user.html_url),n.appendChild(i),(i=document.createElement("div")).id="comment-datetime",i.innerText=new Date(g[t].created_at).toLocaleString(),n.appendChild(i),o.appendChild(n),(n=document.createElement("div")).id="comment-body",n.innerHTML=y(g[t].body),o.appendChild(n),e.appendChild(o)}},v=()=>f(function*(){let e=document.getElementById("comment-action");e.innerHTML="";var n=document.createElement("div");if(n.id="comment-header",n.innerText="Leave a comment",e.appendChild(n),p){if(200===(n=yield fetch(`https://comments.eaimty.com/userinfo?github_access_token=${p}`,{method:"GET"})).status){n=yield n.json();let o=document.createElement("div");o.id="comment-action-info";var i=document.createElement("img");i.id="comment-action-avatar",i.src=n.avatar_url,o.appendChild(i),(i=document.createElement("a")).id="comment-action-author",i.innerText=n.login,i.href=n.html_url,o.appendChild(i);let a=document.createElement("button");a.id="comment-action-logout",a.innerText="Logout",a.addEventListener("click",(()=>{r(),v()})),o.appendChild(a),e.appendChild(o),(n=document.createElement("div")).id="comment-tip",n.innerText="Before commenting, please think about whether your comment is meaningful? Is it related to the topic? Is it rational and friendly? If you were someone else, would you feel uncomfortable seeing this comment?",e.appendChild(n),(n=document.createElement("div")).id="comment-action-input";let c=document.createElement("textarea");c.id="comment-action-textarea",c.placeholder="Leave a comment",n.appendChild(c);let l=document.createElement("button");return l.id="comment-action-post",l.innerText="Comment",l.addEventListener("click",(()=>f(function*(){a.disabled=!0,c.disabled=!0,l.disabled=!0;let e=c.value.trim();0!==e.length&&(201===(yield fetch(`https://comments.eaimty.com/comments?issue_id=${m}&github_access_token=${p}`,{method:"POST",body:JSON.stringify({body:e})})).status?t().then((()=>u())).then((()=>v())):(r(),yield v(),window.alert("Failed to post comment")))}()))),n.appendChild(l),void e.appendChild(n)}r()}(n=document.createElement("div")).id="comment-tip",n.innerText="Clicking the login button means you agree to use cookies to store your GitHub Access Token",e.appendChild(n),(n=document.createElement("button")).id="comment-action-login",n.innerText="Login with GitHub",n.addEventListener("click",(()=>window.location.replace(`https://comments.eaimty.com/login?redirect_uri=${window.location.href}`))),e.appendChild(n)}());t().then((()=>u())).then((()=>v()))</script></div>